generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model board_members {
  id       String @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  board_id String @db.Uuid
  user_id  String @db.Uuid
  role     String @db.VarChar(50)
}

model boards {
  id              String   @id @default(cuid())
  title           String
  owner_id        String
  backgroundColor String? 
  created_at      DateTime @default(now())
  lists           lists[]
}

model lists {
  id       String  @id @default(cuid())
  title    String
  board_id String
  position Int
  tasks    tasks[]
  board    boards   @relation(fields: [board_id], references: [id], onDelete: Cascade)
}

model tasks {
  id       String @id @default(cuid())
  title    String
  description String?
  list_id  String
  position Int
  completed Boolean @default(false)
  list     lists   @relation(fields: [list_id], references: [id], onDelete: Cascade)
}

model comments {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  task_id    String    @db.Uuid
  author_id  String    @db.Uuid
  content    String
  created_at DateTime? @default(now()) @db.Timestamp(6)
}

model users {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  email         String    @unique(map: "users_email_unique") @db.VarChar(255)
  name          String?   @db.VarChar(255)
  password_hash String?
  created_at    DateTime? @default(now()) @db.Timestamp(6)
}
